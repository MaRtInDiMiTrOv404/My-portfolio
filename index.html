<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Личен уебсайт на Мартин Генадиев Димитров">
    <meta name="keywords" content="Мартин Генадиев Димитров, личен сайт, уеб разработка, програмист, портфолио, Мартин, Мартин Димитров, Милковица">
    <meta name="author" content="Мартин Генадиев Димитров">
    <link rel="stylesheet" href="assets/css/styles.css">

    <!-- =====BOX ICONS===== -->
    <link href='https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css' rel='stylesheet'>

    <script async src="https://www.googletagmanager.com/gtag/js?id=G-EC40Q6PGYC"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-EC40Q6PGYC');
    </script>

    <title>Мартин Генадиев Димитров</title>
</head>
<body>
    <!--===== HEADER =====-->
    <header class="l-header">
        <nav class="nav bd-grid">
            <div>
                <a href="#" class="nav__logo">Мартин Генадиев Димитров</a>
            </div>

            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">
                    <li class="nav__item"><a href="#home" class="nav__link active-link">Начало</a></li>
                    <li class="nav__item"><a href="#about" class="nav__link">За мен</a></li>
                    <li class="nav__item"><a href="#skills" class="nav__link">Умения</a></li>
                    <li class="nav__item"><a href="#contact" class="nav__link">Контакт</a></li>
                </ul>
            </div>

            <div class="nav__toggle" id="nav-toggle">
                <i class='bx bx-menu'></i>
            </div>
        </nav>
    </header>

    <main class="l-main">
        <!--===== CONTACT =====-->
        <section class="contact section" id="contact">
            <h2 class="section-title">За контакт с мен</h2>

            <div class="contact__container bd-grid">
                <form id="contactForm" class="contact__form">
                    <input type="text" id="name" name="name" placeholder="Име" class="contact__input" required>
                    <input type="email" id="email" name="email" placeholder="Имейл" class="contact__input" required>
                    <textarea id="message" name="message" placeholder="Съобщение" class="contact__input" required></textarea>
                    <button type="submit" class="contact__button button">Изпращане</button>
                    <p id="statusMessage"></p> <!-- Ще се показва съобщение за успех/грешка -->
                </form>
            </div>
        </section>
    </main>

    <!--===== FOOTER =====-->
    <footer class="footer">
        <p class="footer__title">Последвайте ме</p>
        <div class="footer__social">
            <a href="https://www.facebook.com/profile.php?id=100037242259440" class="footer__icon"><i class='bx bxl-facebook' ></i></a>
        </div>
        <h1 class="footer__title">Тел. 0876966886</h1>
        <p class="footer__copy">&#169; Мартин Генадиев Димитров. Всички права запазени</p>
    </footer>

    <!--===== SCROLL REVEAL =====-->
    <script src="https://unpkg.com/scrollreveal"></script>

    <!--===== EMAILJS SCRIPT =====-->
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script>
        // Инициализация на EmailJS с публичния ключ
        (function () {
            emailjs.init("ais59-DX_2_DnkzBn"); // Постави тук твоя публичен ключ
        })();

        // Изпращане на имейл от контактната форма
        document.getElementById("contactForm").addEventListener("submit", function (event) {
            event.preventDefault(); // Предотвратява изпращането на формата по подразбиране

            // Събиране на данните от формата
            const formData = {
                name: this.name.value,
                email: this.email.value,
                message: this.message.value,
            };

            // Изпращане на имейла чрез EmailJS
            emailjs
                .send("service_q8tpgb4", "template_mgc10jy", formData) // Заменяй с твоето Service ID и Template ID
                .then(
                    function (response) {
                        // Показва съобщение при успешен изпратен имейл
                        document.getElementById("statusMessage").innerText =
                            "Съобщението беше изпратено успешно!";
                        document.getElementById("contactForm").reset(); // Нулира формата
                    },
                    function (error) {
                        // Показва съобщение при грешка
                        document.getElementById("statusMessage").innerText =
                            "Възникна грешка при изпращането. Опитайте отново.";
                        console.error("Грешка при изпращането:", error);
                    }
                );
        });
    </script>

    <!--===== MAIN JS =====-->
    <script src="assets/js/main.js"></script>
</body>
</html>
